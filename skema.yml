server:
  port: 8080
  name: 'Blog Engine API'

entities:
  - name: User
    fields:
      - name: name
        type: string
        required: true
        pattern: '^[a-zA-Z ]+$'
      - name: email
        type: string
        unique: true
        format: email
      - name: age
        type: int
        min: 18
        max: 120
    relations:
      - type: has_many
        entity: Post
        field: user_id
      - type: has_many
        entity: Comment
        field: user_id

  - name: Post
    fields:
      - name: title
        type: string
        required: true
      - name: content
        type: text
      - name: published
        type: bool
      - name: user_id
        type: int
        required: true
    relations:
      - type: belongs_to
        entity: User
        field: user_id

  - name: Comment
    fields:
      - name: content
        type: text
      - name: post_id
        type: int
        required: true
      - name: user_id
        type: int
        required: true
    relations:
      - type: belongs_to
        entity: Post
        field: post_id
      - type: belongs_to
        entity: User
        field: user_id
